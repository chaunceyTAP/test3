<query-collection>
  <query _cs=" ()" background="xtk:backgrounds/neolane.png" errorActivity="delivery" errorCount="0" eventCount="65" id="1207187533" keepResult="true" modelName="newWorkflow" queryRestart="false" scenario-cs="Notification of the workflow supervisor (notifySupervisor)" scenario-id="3451" schema="cha:chaunceysTest" simulation="false" taskCount="88">
    <activities>
      <start collision="0" img="xtk:activities/start.png" label="Start" mask="0" name="start" onError="0" runOnSimulation="true" timezone="_inherit_" x="48" y="56">
        <transitions>
          <initial enabled="true" name="initial" target="query" x="0" y="0"/>
        </transitions>
      </start>
      <end collision="0" img="xtk:activities/end.png" label="End" mask="0" name="end" onError="0" runOnSimulation="true" timezone="_inherit_" x="672" y="65"/>
      <delivery actionType="3" collision="0" contentType="0" deliverySel="3" img="nms:activities/delivery.png" label="Delivery" mask="0" name="delivery" offerSel="0" onError="0" scenario-cs="Have you forgot about us (DM3727)" scenario-id="1207501183" targetSel="0" timezone="_inherit_" x="532" y="56">
        <transitions>
          <done enabled="true" label="Ok" name="done" target="end"/>
          <error enabled="false" label="Error" name="error"/>
        </transitions>
        <scenario/>
      </delivery>
      <query collision="0" distinct="true" img="nms:activities/query.png" keepAllExtraData="false" label="primary key greater than 0" mask="0" name="query" noAutoPk="false" noAutoPkFilter="false" onError="0" recipientLink="" runOnSimulation="true" schema="nms:recipient" timezone="_inherit_" useSource="0" x="192" y="48">
        <transitions>
          <result enabled="true" label="Result" name="result" target="extract"/>
        </transitions>
        <select>
          <node analyze="false" expr="@firstName" label="First name"/>
        </select>
        <where displayFilter="primary key greater than 0" filterName="backGroundFilterFrm" id="1018954596">
          <condition compositeKey="" dependkey="" enabledIf="" expr="@id > 0" internalId="1017709410"/>
        </where>
        <humanCond>Query: primary key greater than 0</humanCond>
      </query>
      <extract collision="0" img="nms:activities/piechart.png" label="Split" mainSet="" mask="0" name="extract" onError="0" runOnSimulation="true" schema="cha:chaunceysTest" timezone="_inherit_" x="376" y="48">
        <transitions>
          <extractOutput enabled="true" label="Subset" name="extractOutput" recipientLink="" schema="cha:chaunceysTest" target="delivery">
            <limiter enabled="true" number="2" percent="10" random="true" type="number">
              <humanCond>Random sampling limited to 2</humanCond>
            </limiter>
          </extractOutput>
          <done enabled="false" label="Result" name="done"/>
          <remainder enabled="0" label="Complement" name="remainder"/>
        </transitions>
      </extract>
      <js collision="0" img="xtk:activities/script.png" label="JavaScript code" mask="0" name="js" onError="0" timezone="_inherit_" x="129" y="230">
        <transitions>
          <done enabled="true" label="Ok" name="done"/>
          <error enabled="false" label="Error" name="error"/>
        </transitions>
        <script>var packages = ['nms:backupDataSchema']; // add any definition here

for each(var package in packages){
  // load package def
  var spec = NLWS.xtkSpecFile.load(package);
  // generate xml
  var xml = spec.GenerateDoc();
  var xmlString = xml.toXMLString(true);
  // save to file
  var filename = '/my-ftp/'+formatDate(getCurrentDate(), "%4Y%2M%2D-%2H%2M%2S")+'-'+application.instanceName+'-'+package.replace(':', '_')+'.xml';
  var f = new File(filename);
  f.open('w', File.CODEPAGE_UTF8); // use UTF-8
  f.writeln(xmlString);
  f.close();
}</script>
      </js>
    </activities>
    <variables tableName_dlv1207502927_delivery-all="wkf1207187533_87_1_ALL"/>
  </query>
</query-collection>